\documentclass[a4paper,11pt]{tubsreprt}

\input{preamble}

%opening
\title{Das CorporateDesign in \LaTeX}
\subtitle{Anleitung und Dokumentation}
\author{Enrico Jörns}
\publishers{Institut fuer Lorem Ipsum} % to logo?


\begin{document}

\maketitle
\pagestyle{scrheadings}
\tableofcontents


\newcommand{\newdocumentclass}[1]{\textcolor{tuRed}{\lstinline{#1}}}

\chapter{Schnellstart}

\paragraph{Dokumente}
Die schnellste Methode ein Dokument im Corporate Design zu erstellen ist
das Laden einer der zur Verfügung stehenden Dokumentenklassen.
Für die Erstellung von Textdokumenten sind dies \newdocumentclass{tubsartcl},
\newdocumentclass{tubsreprt} und \newdocumentclass{tubsbook}.

\paragraph{Poster}
Die Klasse \newdocumentclass{tubsposter} kann zum Erstellen von Postern verwendet werden.
% tubsflyer?

\paragraph{Papierformat}
Die zu verwendende Papierformat sollte dabei als optionales Argument mit
übergeben werden. Für ein Dokument in DIN A4 ist dies \texttt{a4paper}.
Zur Verfügung stehen alle Papierformate A0 bis A6.

Standardmäßig wird die Titelseite in Dokumenten einfach mit dem Logo und einer
roten Trennlinie zwischen Kommunikations- und Absenderbereich versehen.

\paragraph{Präsentationen}
Um Präsentation zu erstellen existiert ein Style für \LaTeX-Beamer.
Dieser wird einfach mit \lstinline!\usetheme{tubs}! geladen.


\chapter{Dokumente}

Einfache Textdokumente können mit den Klassen \newdocumentclass{tubsartcl},
\newdocumentclass{tubsreprt} und \newdocumentclass{tubsbook} erstellt werden.

% \section{Bindekorrektur und Marginalen}

Da Dokumente normalerweise gedruckt werden und ggf. auch gebunden, werden
sie standardmäßig mit einer kleinen Bindekorrektur gesetzt, sodass das
Logo beim Drucken oder Abheften nicht abgeschnitten wird.
Diese Bindekorrektur kann mittels der Paketoption \texttt{bcor} angepasst werden.
Mit \texttt{bcor=0mm} wird sie beispielsweise deaktiviert.



\section{Titelseite}

Titelseiten können bei \LaTeX\ generell auf zwei verschiedene Arten erstellt
werden; entweder mit Hilfe des Befehls \lstinline{\maketitle} oder mit
der Umgebung \lstinline{titlepage}. Beide Varianten werden von tubslatex
unterstützt und leicht modifiziert.

\begin{Declaration}
  \Macro{maketitle}\OParameter{style}
\end{Declaration}

Die einfache Verwendung von \lstinline{\maketitle} erzeugt eine Titelseite
mit dem TU-Logo und einer roten Trennlinie zwischen Absender- und
Kommunikationsbereich.

Mit Hilfe des optionalen Arguments \PName{style} kann die Darstellung
der Titelseite geändert werden, indem aus einer Reihe vordefinierter Styles
ausgewählt wird.\bigskip

Neben den standardmäßig definierten Elementen für Haupttitelseiten werden
in \tubslatex noch ein paar zusätzliche definiert.

\begin{Declaration}
  \Macro{logo}\Parameter{logo}\\
  \Macro{titlepicture}\Parameter{file}\\
  \Macro{titleabstract}\Parameter{text}
\end{Declaration}

\Macro{logo} dient zur Darstellung eines zusätzlichen Absenders als Schrift
oder Bild. Es wird in allen Stilen im Absenderbereich auf der dem
TU-Logo gegenüberliegenden Seite dargestellt.
Mit \Macro{titlepicture} kann eine Bilddatei angegeben werden, die bei
Verwendung eines entsprechenden Styles auf der Titelseite dargestellt werden.
\Macro{titeabstract} erlaubt die Darstellung eines kurzen zusammenfassenden
Textes auf der Titelseite, sofern der gewählte Stil dies unterstützt.

\begin{Declaration}
  \XMacro{begin}\PParameter{\Environment{titlepage}}\\
  \quad\dots\\
  \XMacro{end}\PParameter{titlepage}
\end{Declaration}

Mit der \Environment{titlepage}-Umgebung können, wie von den Standardklassen
gewohnt, Titelseiten definiert werden.
% TODO: \showtubslogo  etc.

\begin{Declaration}
  \XMacro{begin}\PParameter{\Environment{titlerow}}%
    \OParameter{options}%
    \Parameter{gaussheight}\\
  \quad\dots\\
  \XMacro{end}\PParameter{titlerow}
\end{Declaration}

Die Umgebung \Environment{titlerow} erlaubt es dabei, die Titelelemente im 
Gaußraster anzulegen. Der Parameter \PName{gaussheight} gibt dabei
die Höhe des jeweiligen Elements in Segmenten an. Die Position der Elemente
ergibt sich aus der Reihenfolge der Definition.
Mit dem optionalen Parameter \PName{options} können Einstellung wie die Hintergrundfarbe oder ein Hintergrundbild übergeben werden.

\subsection{Vordefiniert Titel-Styles}

Es sind 3 einfache Styles vordefiniert.

\begin{center}
  \fboxsep0mm
  \begin{minipage}[t]{0.33\textwidth}
    \centering\sffamily
    \fbox{%
      \includegraphics[width=0.95\textwidth]{examples/article1.pdf}}
    [default]
  \end{minipage}%
  \begin{minipage}[t]{0.33\textwidth}
    \centering\sffamily
    \fbox{%
      \includegraphics[width=0.95\textwidth]{examples/titlestyle_image.pdf}}
    [image]
  \end{minipage}%
  \begin{minipage}[t]{0.33\textwidth}
    \centering\sffamily
    \fbox{%
      \includegraphics[width=0.95\textwidth]{examples/titlestyle_imagetext.pdf}}
    [imagetext]
  \end{minipage}

\end{center}

\section{Kopf-/ Fußzeile}

Standardmäßig wird die Fußzeile komplett leer gelassen und die Kopfzeile
wird mit Seitennummer rechts und Kapitelname links gesetzt. Bei zweiseitigem
Layout gilt dies für die ungeraden Seiten, gerade Seiten werden entsprechend
mit Seitennummer links und Kapitelname rechts gesetzt.

\begin{Declaration}
  \Macro{ihead}\Parameter{innen}\\
  \Macro{ohead}\Parameter{außen}
\end{Declaration}

Bei Bedarf können die Kopfzeilen individuell angepasst werden.
Dies geschieht mit den Befehlen \Macro{ihead} und \Macro{ohead}, welche
auf den gleichnamigen Kommandos aus dem Koma-Skript aufbauen und für eine
korrekte vertikale Positionierung sorgen.

\begin{Declaration}
  \Macro{headsepline}
\end{Declaration}


Die standardmäßig gesetzten kurzen Linien am jeweils oberen äußeren Ende des
Kopfbereiches sind im Makro \Macro{headsepline} definiert.
Dies kann bei Bedarf überschrieben werden.


\section{Seitenlayout}

Eine Seite im Corporate Design unterteilt sich grundlegend in 2 Bereiche.
Der Absenderbereich und der Kommunikationsbereich. Der Absenderbereich wird zur
Darstellung des TU-Siegelbandlogos und des Logos eines speziellen Instituts
oder einer Abteilung verwendet. Im Textteil dient er teilweise als Bereich für
Inhalte einer Kopf-/Fußzeile.

Der Absenderbereich kann entweder am Anfang oder am Ende der Seite platziert
werden. Dies beeinflusst auch das Gaußraster, es beginnt jeweils mit dem
größten Segment am Absenderbereich.

\begin{Declaration}
  \Option{a0paper}\\
  \Option{a1paper}\\
  \Option{a2paper}\\
  \Option{a3paper}\\
  \Option{a4paper}\\
  \Option{a5paper}\\
  \Option{a6paper}
\end{Declaration}

Für die Auswahl des verwendeten Papierformats stehen alle DIN A-Größen von
0 bis 6 zur Verfügung. Standardeinstellung ist \Option{a4paper}.

\begin{Declaration}
  \Option{landscape}
\end{Declaration}

Schaltet das Dokument in Querformat-Darstellung.

\begin{minipage}{0.45\textwidth}\sffamily\centering
  {\fboxsep0mm\fbox{\includegraphics[width=\textwidth]{examples/article_landscape.pdf}}}\\
  Dokument im Querformat
\end{minipage}


\begin{important}
  Im Querformat hat das Gaußraster eine abweichende
  Segmentanzahl. Für alle gängigen Formate sind im Querformat \emph{6 Segmente}
  definiert. Daher lösen Layouts, die für hochformatige Dokumente
  geschrieben wurden, im Querformat einen Fehler aus.
\end{important}


\begin{Declaration}
  \KOption{sender}\PName{Position}
\end{Declaration}

Mit der Option \Option{sender} kann die Position des Absenderbereiches
festgelegt werden. Mit der Einstellung \OptionValue{sender}{top} wird
der Absenderbereich am oberen Seitenende dargestellt. Dies ist auch die
Standardeinstellung. Wählt man dagegen \OptionValue{sender}{bottom}, so
wird der Absenderbereich am unteren Ende der Seite platziert

\begin{important}
  Die Positionierung des Absenderbereichs beeinflusst die Orientierung des
  Gaußrasters. Das größte Segment wird dabei immer so gesetzt, dass es direkt
  an den Absenderbereich anschließt und alle folgende von absteigender Höhe sind.
\end{important}



\begin{Declaration}
  \KOption{bcor}\PName{Wert}
\end{Declaration}

Die Bindekorrektur beschreibt einen zusätzlichen Abstand des eigentlichen
Darstellungsbereichs vom inneren Formatrand. Die Bindekorrektur
ist bei Textdokumenten standardmäßig auf Rahmenbreite voreingestellt.

Sinnvoll ist eine Bindekorrektur selbstverständlich zum einen für Bindungen,
wo sie der Breite des durch die Bindung verdeckten Bereiches entsprechen sollte.
Zum anderen ist sie aber auch für den Druckvorgang sinnvoll, da normale Drucker
keinen randlosen Druck ermöglichen. Die Bindekorrektur verhindert so \zB ein 'Abschneiden' des Siegellogos.
Soll das Dokument ohne Bindekorrektur dargestellt werden, so ist dies
mit \OptionValue{bcor}{0mm} möglich.

\begin{Declaration}
  \Option{twoside}
\end{Declaration}

Für das Setzen von zweiseitige Dokumente ist die Option \Option{twoside}
vorgesehen. Mit ihr wird von einseitigem Layout auf zweiseitiges Layout
umgeschaltet, was bedeutet, dass die Innenseite eines Dokuments abwechselnd
auf der linken und rechten Seite definiert ist. Die hat unter anderem Einfluss
auf definierte Ränder (Bindungskorrektur, Marginale).


\begin{Declaration}
  \Option{marginleft}\\
  \Option{marginright}
\end{Declaration}

Das setzen einer Marginale wird durch die Befehle \PName{marginleft} und
\PName{marginright} vereinfacht. Diese setzen jeweils auf der linken (inneren)
bzw. rechten (äußeren) Seite des Dokumentes eine Marginale, deren Breite
einem Element im Spaltenraster entspricht.


\section{Schrift}

Dokumente im Corporate Design werden allgemein in der Schrift \emph{Nexus}
gesetzt.
Diese wird standardmäßig bei allen Dokumenten geladen. Auf eine explizite
Angabe der Schriftgröße in den Dokumentenoptionen sollte nach Möglichkeit
verzichtet werden, da für die jeweiligen Papierformate spezielle
Schriftgrößen vordefiniert sind und geladen werden.
Das Laden anderer Schriftgrößen führt im Vergleich dazu teilweise zu stark abweichenden Ergebnissen.

Für wichtige Standard-Elemente gibt es des weiteren vordefinierte Koma-Fonts.


\begin{desctable}
\entry{\PValue{headline}}{%
  Einfache Überschrift (groß)
}
\entry{\PValue{subheadline}}{%
  Unterüberschrift
}
\entry{\PValue{institute}}{%
  Institutsname im Logo-Bereich des Absenders.
}
% \entry{\PValue{infotext}}{%
% }
% \entry{\PValue{infotextitem}}{%
% }
\entry{\PValue{copytext}}{%
  Mengentext
}
\end{desctable}


\subsection{Farben}

Für eine Übersicht über die verfügbaren Farben siehe \ref{sec:colors}.%TODO...

\begin{Declaration}
  \Option{mono}
\end{Declaration}

Schwarz-Weiß-Darstellung der Standardelemente

\begin{Declaration}
  \Option{cmyk}
\end{Declaration}

CMYK-Darstellung der Standardelemente


% \noindent\hspace*{-\parindent}\fbox{\cmd{\maketitle}\oarg{asdf}\marg{asdf}}
\chapter{Plakate}

Plakate werden mit Hilfe der Klasse \newdocumentclass{tubsposter} erstellt.
Dabei kann Mittels der Option \texttt{style} zwischen der Darstellung als
normales Plakat oder als wissenschaftliches Plakat gewählt werden.

\section{Veranstaltungsplakate}

\begin{Declaration}
  \XMacro{begin}\PParameter{\Environment{tubsposter}}%
    \OParameter{options}\\
  \quad\dots\\
  \XMacro{end}\PParameter{tubsposter}
\end{Declaration}

Ein neues Plakat wird mit der Umgebung \Environment{tubsposter} erstellt.
Der optionale Parameter \PName{options} akzeptiert dabei die
unter \ref{} beschriebenen Optionen.

\begin{Declaration}
  \XMacro{begin}\PParameter{\Environment{posterrow}}%
    \OParameter{cols}\\%
  \quad\dots\\
  \XMacro{end}\PParameter{posterrow}%\\
%   \XMacro{begin}\PParameter{\Environment{posterrow*}}%
%     \OParameter{cols}\\%
%   \quad\dots\\
%   \XMacro{end}\PParameter{posterrow*}
\end{Declaration}

Einzelne Segmente im Gaußraster können mit der Umgebung \Environment{posterrow}
erzeugt werden.

\section{Wissenschaftliche Plakate}

\begin{Declaration}
  \XMacro{begin}\PParameter{\Environment{tubsposter}}%
    \OParameter{options}%
    \Parameter{rows}\\
  \quad\dots\\
  \XMacro{end}\PParameter{tubsposter}
\end{Declaration}

Für die Erstellung von wissenschaftlichen Plakaten wird ebenfalls die Umgebung
\Environment{tubsposter} verwendet, welche in diesem Fall jedoch einen
zusätzlichen Parameter \PName{rows} erwartet.
Damit wird die Anzahl an Modulzeilen bestimmt. Dies geschieht mittels
einer kommagetrennten Liste, wobei jedes Element entweder eine Länge
oder der Buchstabe 'X' sein kann. Eine Länge legt die Höhe der jeweiligen
Modulzeile genau fest, ein X sorgt dafür, dass alle mit X gekennzeichneten
Zeilen den restlichen zur Verfügung stehenden Platz gleichmäßig untereinander
aufteilen. Dieses Vorgehen ist an die Tabellen-Umgebung \Environment{tabularx}
angelehnt.

\begin{Example}
  \noindent\Macro{begin}\PParameter{\Environment{tubsposter}}
    \Parameter{3cm,X,5cm,X}\par
  \noindent Erzeugt 4 Modulzeilen, wobei die 1. 3cm und die 3. 5cm hoch sind.
  Die Zeilen 2 und 4 nehmen den Restlichen verfügbaren Platz ein
  und sind gleich hoch.
\end{Example}


\begin{Declaration}
  \XMacro{begin}\PParameter{\Environment{posterrow}}%
    \OParameter{cols}\\%
  \quad\dots\\
  \XMacro{end}\PParameter{posterrow}\\
  \XMacro{begin}\PParameter{\Environment{posterrow*}}%
    \OParameter{cols}\\%
  \quad\dots\\
  \XMacro{end}\PParameter{posterrow*}
\end{Declaration}

Die mit \Environment{tubsposter} angelegten Modulzeilen können nun jeweils mit
der Umgebung \Environment{posterrow} mit Inhalt gefüllt werden.
Dabei kann entweder direkt der gewünschte Inhalt geschrieben oder das optionale
Parameter \PName{cols} benutzt werden.
Dieses erlaubt die Definition zusätzlicher Spalten in der aktuellen Modulzeile.
Es wird wieder ein kommagetrennte Liste erwartet,
deren Elemente dieselbe Bedeutung haben wie bereits beschrieben, außer, dass
sie die Breite und nicht die Höhe definieren.

Der normale Abstand des Inhalts vom Rand der Modulbox beträgt halbe
Rahmenbreite. Für das Einfügen von Bildern etwa kann es sinnvoll sein,
diesen Rahmen wegzulassen. Dies geschieht mit der Sternchen-Variante
\Environment{posterrow*}.


\begin{Declaration}
  \XMacro{begin}\PParameter{\Environment{postercol}}%
    \OParameter{rows}\\%
  \quad\dots\\
  \XMacro{end}\PParameter{postercol}\\
  \XMacro{begin}\PParameter{\Environment{postercol*}}%
    \OParameter{rows}\\%
  \quad\dots\\
  \XMacro{end}\PParameter{postercol*}
\end{Declaration}

Die mit \Environment{posterrow} angelegten Spalten können jeweils mit 
\Environment{postercol} mit Inhalt gefüllt oder in neue Unterzeilen aufgeteilt 
werden.

\begin{Declaration}
  \XMacro{begin}\PParameter{\Environment{postersubrow}}\\%
  \quad\dots\\
  \XMacro{end}\PParameter{postersubrow}\\
  \XMacro{begin}\PParameter{\Environment{postersubrow*}}\\%
  \quad\dots\\
  \XMacro{end}\PParameter{postersubrow*}
\end{Declaration}

Die mit \Environment{postercol} angelegten Unterzeilen können jeweils mit 
\Environment{postercol} mit Inhalt gefüllt werden.

\begin{Example}

\end{Example}

\section{Seitenlayout}

% margin
% bcor
% sender=top/bottom


\section{Format}

\section{Farben}

\section{Befehle}

\section{Optionen}


\chapter{Briefe}

\input{beamer}  % Kapitel: 'Präsentationen'


\chapter{Hintergrundlayout}

\begin{Declaration}
  \Macro{showtubslogo}\OParameter{Position}
\end{Declaration}

Bewirkt Darstellung des TU-Logos im aktiven Layout. Die Option \PName{Position}
erlaubt die Angabe der Darstellungsseite (links/rechts). Standardmäßig
wird das Logo links bzw. innen dargestellt.

\begin{Declaration}
  \Macro{showlogo}\PParameter{Logo}
\end{Declaration}

Bewirkt Darstellung eines Individuellen Logos im aktuellen Layout.
\PName{Logo} kann dabei entweder einfacher Text oder auch ein 
mit \Makro{includegraphics} eingebundenes Bild sein.

\begin{Declaration}
  \Macro{showtopline}
\end{Declaration}

Bewirkt Darstellung einer Trennlinie zwischen Absender und Kommunikationsbereich
im aktuellen Layout.

\begin{Declaration}
  \Macro{bgelement}\OParameter{Darstellung}\PParameter{Höhe}
\end{Declaration}

Erstellt ein Hintergrundelement im Gaußraster mit angegebener \PName{Höhe}.
Der Parameter \PName{Darstellung} kann die folgenden Einstellungen verarbeiten:

\begin{Declaration}
  \KOption{bgcolor}\PName{Farbe}\\
  \KOption{bgimage}\PName{Bild-Datei}\\
  \KOption{imagefit}\PName{Darstellungsoption}
\end{Declaration}

Mit \OptionValue{bgcolor}{Farbe} wird das Hintergrundelement mit der angegebenen
Farbe gefüllt.

Die Option \OptionValue{bgimage}{Bild-Datei} erlaubt dagegen die Darstellung
eines Hintergrundbildes im Element.
Da der Darstellungsbereich fest vorgegeben ist, muss das eingebundene Bild
in diesen Bereich eingepasst werden. Dies geschieht automatisch, die Art
der Einpassung lässt sich aber mit der Option \Option{imagefit} kontrollieren.
Sie erlaubt folgende Einstellungen:


\begin{desctable}
\entry{\PValue{cropped}}{%
  Automatisches Abschneiden. Dies ist die Standardeinstellung.
}
\entry{\PValue{cropx}}{%
  Abschnitt horizontal.
}
\entry{\PValue{cropy}}{%
  Abschnitt vertikal.
}
\entry{\PValue{scaled}}{%
  Horizontale \emph{und} vertikale Skalierung.
}
\end{desctable}


\input{colors}  % Kapitel: 'Farben'

\input{glossary}

\end{document}
